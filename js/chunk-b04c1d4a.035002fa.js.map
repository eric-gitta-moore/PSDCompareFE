{"version":3,"sources":["webpack:///./src/api/Rbac/File.js","webpack:///./src/biz/Rbac/File.js","webpack:///./src/views/HomeSubViews/Main/History.vue","webpack:///src/views/HomeSubViews/Main/History.vue","webpack:///./src/views/HomeSubViews/Main/History.vue?66d2","webpack:///./src/views/HomeSubViews/Main/History.vue?6631","webpack:///./src/util/DateHelper.js","webpack:///./src/entity/Rbac/File.js","webpack:///./src/entity/Rbac/TaskGroup.js","webpack:///./src/entity/_Common/PageResult.js","webpack:///./src/api/Rbac/TaskGroup.js","webpack:///./src/biz/Rbac/TaskGroup.js","webpack:///./src/entity/Rbac/Order.js","webpack:///./src/views/HomeSubViews/Main/History.vue?cf1c"],"names":["upload","file1","file2","taskId","data","FormData","file","append","BaseAxios","url","method","then","ResHelper","handler","download","ids","BASE_URL","join","downloadTask","async","addCompareGroup","referenceFiles","compareFiles","r","FileApi","commonResult","CommonResult","message","code","e","console","log","getDownloadUrl","getTaskDownloadUrl","render","_vm","this","_c","_self","staticClass","attrs","_v","on","freshTable","model","value","searchText","callback","$$v","expression","daterange","clearAll","downLoadTaskByCheck","staticStyle","tableData","getRowKey","children","hasChildren","background","handleSelectionChange","scopedSlots","_u","key","fn","scope","undefined","row","serialNumber","indeterminate","$event","taskGroupCheckId","checked","$set","childCheckAll","_s","id","title","name","status","result","createTime","checkTask","downLoadTask","deleteTask","pageSizes","pageSize","total","currentPage","staticRenderFns","components","computed","methods","query","TaskGroupEntity","compareId","$router","push","IdsArr","taskGroupCheck","urlString","window","open","startT","endT","DateHelper","format","Date","TaskGroup","getAll","res","records","map","index","orders","ee","iindex","filter","idArr","ele","rowId","delTaskByIds","$message","success","val","multipleSelection","lengthOfTrueChecked","taskIndex","forEach","length","GroupIdsArr","element","mounted","publicPath","process","component","date","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","S","getMilliseconds","k","test","replace","RegExp","$1","getFullYear","substr","formatDateGap","startTime","endTime","pointLength","units","unit","multiple","item","firstUnit","gap","shift","toFixed","getDaysInOneMonth","year","month","d","timeRules","time","parseInt","toString","setHour0","setHours","getTime","setHour24","File","constructor","size","orderId","Order","Error","PageResult","current","pages","getGroupById","groupId","get","params","getGroups","keyWords","startPage","maxPage","sort","createGroup","deleteGroup","formatRecords","records_use","deleted","files","fee","resolution","fileName","indexOf","FileEntity","Boolean","startPages","TaskGroupApi","maxPages","find","addTaskGroup"],"mappings":"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","file":"js/chunk-b04c1d4a.035002fa.js","sourcesContent":["import BaseAxios from \"./_BaseAxios.js\";\nimport ResHelper from \"../_ResponseHelper.js\"\nimport axios from \"axios\";\nimport {\n    BASE_URL,\n    TIMEOUT\n} from '@/const'\n\n/**\n * @description\n * 上传文件\n * POST /file/upload\n * 接口ID：16431566\n * 接口地址：https://www.apifox.cn/web/project/838613/apis/api-16431566\n * @param {Array.<File>} file1\n * @param {Array.<File>} file2\n * @param {Number} taskId\n * @returns {axios}\n */\nfunction upload({\n                    file1,\n                    file2,\n                    taskId\n                }) {\n    let data = new FormData();\n    for (const file of file1) {\n        data.append('file1', file);\n    }\n    for (const file of file2) {\n        data.append('file2', file);\n    }\n    data.append('taskId', taskId + '');\n    return BaseAxios({\n        url: `/file/upload`,\n        method: \"post\",\n        data,\n    }).then(ResHelper.handler);\n}\n\n\n/**\n * @description\n * 批量下载文件\n * GET /file/download\n * 接口ID：16431612\n * 接口地址：https://www.apifox.cn/web/project/838613/apis/api-16431612\n * @param {Array.<number>} ids\n * @returns {String}\n */\nfunction download({ids}) {\n    return BASE_URL + '/file/download?id=' + ids.join('&id=');\n\n}\n\n/**\n * @description\n * 根据taskgroupId批量下载文件\n * GET /taskGroup/download\n * 接口ID：16981068\n * 接口地址：https://www.apifox.cn/web/project/838613/apis/api-16981068\n * @param {Array.<number>} ids\n * @returns {string}\n */\nfunction downloadTask({ids}) {\n    return BASE_URL + '/taskGroup/download?ids=' + ids.join('&ids=');\n}\n\n\nexport default {\n    upload,\n    download,\n    downloadTask,\n\n};","import FileApi from '@/api/Rbac/File';\nimport CommonResult from \"@/entity/_Common/CommonResult\";\n\n/**\n * @description 创建对比组\n * @param {Array.<File>} referenceFiles\n * @param {Array.<File>} compareFiles\n * @param {Number} taskId\n * @returns {Promise<string>}\n */\nasync function addCompareGroup({\n                                   referenceFiles,\n                                   compareFiles,\n                                   taskId,\n                               }) {\n    try {\n        let r = await FileApi.upload({\n            file1: referenceFiles,\n            file2: compareFiles,\n            taskId,\n        })\n        let commonResult = new CommonResult(r.data, r.message, r.code);\n        return commonResult.message;\n    } catch (e) {\n        console.log(e.message);\n        return e.message;\n    }\n}\n\n/**\n * @description 获取下载链接\n * @param {Array.<Number>} ids\n * @returns {String}\n */\nfunction getDownloadUrl(ids) {\n    return FileApi.download({ids});\n}\n\n/**\n * @description 获取任务组下载链接\n * @param {Array.<Number>} ids\n * @returns {String}\n */\nfunction getTaskDownloadUrl(ids) {\n    return FileApi.downloadTask({ids});\n}\n\n\nexport default {\n    addCompareGroup,\n    getDownloadUrl,\n    getTaskDownloadUrl,\n\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticClass:\"main-container\"},[_c('el-header',[_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('span',[_vm._v(\"关键词：\")])]),_c('el-col',{attrs:{\"span\":3}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"change\":_vm.freshTable},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}})],1),_c('el-col',{attrs:{\"span\":2}},[_c('span',[_vm._v(\"日期范围：\")])]),_c('el-col',{attrs:{\"span\":5}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"unlink-panels\":\"\",\"range-separator\":\"~\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},on:{\"change\":_vm.freshTable},model:{value:(_vm.daterange),callback:function ($$v) {_vm.daterange=$$v},expression:\"daterange\"}})],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.clearAll}},[_vm._v(\"重置\")])],1),_c('el-button',{staticClass:\"styleLoad\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.downLoadTaskByCheck}},[_vm._v(\"下载 \")])],1)],1),_c('el-main',{staticClass:\"main\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"lazy:true\":\"\",\"row-key\":_vm.getRowKey,\"tree-props\":{ children: 'orders', hasChildren: 'hasChildren' },\"header-row-style\":{\n        background: 'RGB(246,248,250)',\n      },\"header-cell-style\":{\n        background: 'RGB(246,248,250)',\n      }},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.serialNumber === undefined)?_c('el-checkbox',{attrs:{\"indeterminate\":scope.row.indeterminate},on:{\"change\":function($event){return _vm.taskGroupCheckId(scope.row)}},model:{value:(scope.row.checked),callback:function ($$v) {_vm.$set(scope.row, \"checked\", $$v)},expression:\"scope.row.checked\"}}):_c('el-checkbox',{on:{\"change\":function($event){return _vm.childCheckAll(scope.row)}},model:{value:(scope.row.checked),callback:function ($$v) {_vm.$set(scope.row, \"checked\", $$v)},expression:\"scope.row.checked\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"serialNumber\",\"label\":\"流水编号/任务ID\",\"width\":\"210\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.serialNumber !== undefined ? scope.row.serialNumber : scope.row.id)+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"名称\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.serialNumber !== undefined ? scope.row.title : scope.row.name)+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"fee\",\"label\":\"对比费用\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"支付状态\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.status)+\" \")]}}])}),_vm._v(\"z \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"对比状态\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.result)+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"支付结果\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.status)+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"时间\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.createTime)+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"act\"},[_c('svg-icon',{attrs:{\"icon-class\":\"show-eye\"}}),_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.checkTask(scope.row)}}},[_vm._v(\"查看\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('svg-icon',{attrs:{\"icon-class\":\"download\"}}),_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.downLoadTask(scope.row)}}},[_vm._v(\"下载\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('svg-icon',{attrs:{\"icon-class\":\"bin\"}}),_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.deleteTask(scope.row.id)}}},[_vm._v(\"删除\")])],1)]}}])})],1)],1),_c('el-footer',[_c('el-row',{staticClass:\"pagination\"},[_c('el-col',{attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"page-sizes\":_vm.pageSizes,\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total,\"current-page\":_vm.currentPage,\"background\":\"\"},on:{\"update:pageSize\":function($event){_vm.pageSize=$event},\"update:page-size\":function($event){_vm.pageSize=$event},\"current-change\":_vm.freshTable,\"size-change\":_vm.freshTable,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-container class=\"main-container\">\n    <el-header>\n      <el-row>\n        <el-col :span=\"2\">\n          <span>关键词：</span>\n        </el-col>\n        <el-col :span=\"3\">\n          <el-input\n              placeholder=\"请输入内容\"\n              v-model=\"searchText\"\n              @change=\"freshTable\"\n              clearable\n          ></el-input>\n        </el-col>\n        <el-col :span=\"2\">\n          <span>日期范围：</span>\n        </el-col>\n        <el-col :span=\"5\">\n          <el-date-picker\n              v-model=\"daterange\"\n              type=\"daterange\"\n              unlink-panels\n              range-separator=\"~\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              @change=\"freshTable\"\n          >\n          </el-date-picker>\n        </el-col>\n        <el-col :span=\"2\">\n          <el-button type=\"primary\" @click=\"clearAll\">重置</el-button>\n        </el-col>\n        <el-button type=\"primary\" @click=\"downLoadTaskByCheck\" class=\"styleLoad\"\n        >下载\n        </el-button\n        >\n      </el-row>\n    </el-header>\n\n    <el-main class=\"main\">\n      <el-table\n          :data=\"tableData\"\n          style=\"width: 100%\"\n          lazy:true\n          :row-key=\"getRowKey\"\n          :tree-props=\"{ children: 'orders', hasChildren: 'hasChildren' }\"\n          @selection-change=\"handleSelectionChange\"\n          :header-row-style=\"{\n          background: 'RGB(246,248,250)',\n        }\"\n          :header-cell-style=\"{\n          background: 'RGB(246,248,250)',\n        }\"\n      >\n        <el-table-column>\n          <template slot-scope=\"scope\">\n            <el-checkbox\n                v-if=\"scope.row.serialNumber === undefined\"\n                v-model=\"scope.row.checked\"\n                :indeterminate=\"scope.row.indeterminate\"\n                @change=\"taskGroupCheckId(scope.row)\"\n            >\n            </el-checkbox>\n            <el-checkbox v-else\n                         v-model=\"scope.row.checked\"\n                         @change=\"childCheckAll(scope.row)\"\n            ></el-checkbox>\n          </template>\n        </el-table-column>\n        <el-table-column\n            prop=\"serialNumber\"\n            label=\"流水编号/任务ID\"\n            width=\"210\"\n        >\n          <template slot-scope=\"scope\">\n            {{\n              scope.row.serialNumber !== undefined\n                  ? scope.row.serialNumber\n                  : scope.row.id\n            }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"title\" label=\"名称\" width=\"200\">\n          <template slot-scope=\"scope\">\n            {{\n              scope.row.serialNumber !== undefined\n                  ? scope.row.title\n                  : scope.row.name\n            }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"fee\" label=\"对比费用\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"支付状态\" width=\"150\">\n         <template slot-scope=\"scope\">\n                {{scope.row.status}}\n          </template> \n        </el-table-column>z\n        <el-table-column prop=\"status\" label=\"对比状态\" width=\"180\">\n          <template slot-scope=\"scope\">\n                {{scope.row.result}}\n          </template> \n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"支付结果\" width=\"150\">\n          <template slot-scope=\"scope\">\n                {{scope.row.status}}\n          </template> \n        </el-table-column>\n        <el-table-column prop=\"createTime\" label=\"时间\" width=\"200\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.createTime }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"250\">\n          <template #default=\"scope\">\n            <div class=\"act\">\n              <svg-icon icon-class=\"show-eye\"></svg-icon>\n              <span style=\"cursor: pointer\" @click=\"checkTask(scope.row)\"\n              >查看</span\n              >\n              <el-divider direction=\"vertical\"></el-divider>\n              <svg-icon icon-class=\"download\"></svg-icon>\n              <span style=\"cursor: pointer\" @click=\"downLoadTask(scope.row)\"\n              >下载</span\n              >\n              <el-divider direction=\"vertical\"></el-divider>\n              <svg-icon icon-class=\"bin\"></svg-icon>\n              <span style=\"cursor: pointer\" @click=\"deleteTask(scope.row.id)\"\n              >删除</span\n              >\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-main>\n\n    <el-footer>\n      <el-row class=\"pagination\">\n        <el-col :span=\"24\">\n          <el-pagination\n              :page-sizes=\"pageSizes\"\n              :page-size.sync=\"pageSize\"\n              layout=\"total, sizes, prev, pager, next, jumper\"\n              :total=\"total\"\n              @current-change=\"freshTable\"\n              @size-change=\"freshTable\"\n              :current-page.sync=\"currentPage\"\n              background\n          >\n          </el-pagination>\n        </el-col>\n      </el-row>\n    </el-footer>\n  </el-container>\n</template>\n\n<script>\n/*引入对返回数据处理的方法*/\nimport TaskGroup from \"../../../biz/Rbac/TaskGroup\";\nimport DateHelper from \"@/util/DateHelper\";\nimport file from '../../../biz/Rbac/File'\nimport TaskGroupEntity from '@/entity/Rbac/TaskGroup';\nimport {turquoise} from \"color-name\";\n\nexport default {\n  name: \"History\",\n  components: {},\n  computed: {},\n  methods: {\n    clearAll() {\n      this.searchText = \"\";\n      this.daterange = \"\";\n      this.freshTable();\n    },\n    //查看该文件\n    checkTask(row) {\n      let query = {};\n      query.taskId = row.taskId ? row.taskId : row.id;\n      if (!(row instanceof TaskGroupEntity)) {\n        query.compareId = row.id;\n      }\n      this.$router.push({\n        name: \"HomeCompareLeft\",\n        query\n      });\n      console.log(row);\n    },\n    /*\n    点击下载多个任务组\n    */\n    downLoadTaskByCheck() {\n      let IdsArr = this.taskGroupCheck()\n      let urlString = file.getDownloadUrl(IdsArr);\n       window.open(urlString)\n    },\n    freshTable() {\n      let startT, endT;\n      if (this.daterange) {\n        startT = DateHelper.format(new Date(this.daterange[0]));\n        endT = DateHelper.format(new Date(this.daterange[1]));\n      }\n      TaskGroup.getAll(this.currentPage, this.pageSize, this.searchText, startT, endT).then((res) => {\n        console.log(res.records);\n        this.total = res.total;\n        res.records = res.records.map((e, index) => {\n          e.orders = e.orders.map((ee, iindex) => {\n            // checkOrders[index] = false;\n            this.$set(ee, \"checked\", false);\n            this.$set(ee, \"index\", iindex);\n            this.$set(ee, \"taskIndex\", index);\n\n            return ee;\n          });\n          e.orders = e.orders.filter((e) => e.id !== null);\n          this.$set(e, \"index\", index);\n          this.$set(e, \"checked\", false);\n          this.$set(e, \"indeterminate\", false); //checkbox不确定状态\n          return e;\n        });\n        this.tableData = res.records;\n        console.log(this.tableData);\n      });\n    },\n    //点击下载单个任务组\n    downLoadTask(e) {\n      let idArr = [];\n      if (e instanceof TaskGroupEntity) {\n        idArr = e.orders.map(ele => ele.id);\n      } else {\n        idArr = [e.id];\n      }\n      let urlString = file.getDownloadUrl(idArr);\n      window.open(urlString)\n    },\n    //批量下载或删除任务组\n    deleteTask(rowId) {\n      let IdsArr = this.taskGroupCheck()\n      IdsArr.push(rowId)\n      TaskGroup.delTaskByIds(IdsArr);\n      this.$message.success(\"删除成功\");\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    childCheckAll(row) {\n      //遍历数组获取子复选框的状态\n      let lengthOfTrueChecked = 0\n      this.tableData[row.taskIndex].orders.forEach(e => {\n        if (e.checked) {\n          lengthOfTrueChecked++\n\n        }\n      })\n      if (lengthOfTrueChecked === this.tableData[row.taskIndex].orders.length) {\n        this.tableData[row.taskIndex].checked = true\n        this.tableData[row.taskIndex].indeterminate = false\n      } else if (lengthOfTrueChecked === 0) {\n        this.tableData[row.taskIndex].indeterminate = false\n        this.tableData[row.taskIndex].checked = false\n      } else {\n        this.tableData[row.taskIndex].indeterminate = true\n        this.tableData[row.taskIndex].checked = false\n      }\n      console.log(lengthOfTrueChecked);\n    },\n    //遍历所有cheked属性实现下载功能\n    taskGroupCheck()\n    {   \n      let GroupIdsArr =[]\n      this.tableData.forEach(e=>{\n            e.orders.forEach(e=>{\n              if(e.checked) {\n                GroupIdsArr.push(e.id)\n            }\n            })\n      })\n      return GroupIdsArr\n    },\n    taskGroupCheckId(row) {\n      this.tableData[row.index].orders.forEach(element => {\n        element.checked = row.checked\n      });\n      row.indeterminate = false\n    },\n    //解决重复id\n    getRowKey(row){\n        if(row.serialNumber===undefined){\n            return  row.id\n        }else{\n           return row.id+'only'\n        }\n    },\n\n  },\n  mounted() {\n    this.freshTable();\n  },\n\n  data() {\n    return {\n      publicPath: process.env.BASE_URL,\n      daterange: \"\",\n      searchText: \"\",\n      pageSizes: [10, 20, 30, 40],\n      pageSize: 10,\n      total: 100,\n      currentPage: 1,\n      tableData: [],\n      IdsArr: [],\n    };\n  },\n}\n</script>\n\n<style lang='scss' scoped>\n$radius: 4px;\n.gray {\n  color: #a8a8aa;\n}\n\n.main-container {\n  height: 100%;\n\n  padding: 18px;\n  box-sizing: border-box;\n  background: #f1f5f9;\n\n  .el-header {\n    padding-top: 20px;\n    background: white;\n    border-top-left-radius: $radius;\n    border-top-right-radius: $radius;\n\n    .el-row {\n      display: flex;\n      justify-content: flex-start;\n      position: relative;\n\n      .styleLoad {\n        position: absolute;\n        right: 20px;\n      }\n\n      align-items: center;\n    }\n\n    .main {\n      background: white;\n\n      .el-table {\n        // position: absolute;\n        .el-checkbox__inner {\n          position: absolute;\n          top: 12px;\n          left: -20px;\n        }\n      }\n    }\n\n    .el-table {\n      padding: 0 17px;\n\n      .act {\n        display: flex;\n        align-items: center;\n        line-height: 100%;\n\n        .svg-icon {\n          width: 1.3em;\n          height: 1.3em;\n        }\n      }\n    }\n  }\n\n  .main {\n    background: white;\n\n    .el-checkbox__inner {\n     .cell{\n       justify-content: center;\n        position: absolute;\n      top: -5px;\n      left:15px;\n     }\n    }\n  }\n\n  .el-table {\n    padding: 0;\n\n    .act {\n      display: flex;\n      align-items: center;\n      line-height: 100%;\n\n      .svg-icon {\n        width: 1.3em;\n        height: 1.3em;\n      }\n    }\n  }\n\n  .dot {\n    position: relative;\n\n    .red-dot,\n    .blue-dot {\n      position: absolute;\n      top: 50%;\n      left: -20%;\n      width: 5px;\n      height: 5px;\n      display: inline-block;\n      border-radius: 50%;\n      transform: translateY(-25%);\n    }\n\n    .red-dot {\n      background: #f56760;\n    }\n\n    .blue-dot {\n      background: #347eff;\n    }\n  }\n\n  .el-footer {\n    background: white;\n    border-bottom-left-radius: $radius;\n    border-bottom-right-radius: $radius;\n\n    .pagination {\n      .el-col {\n        text-align: right;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.47.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.47.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.5_cache-loader@4.1.0_webpack@4.47.0__css-loader@3.6._d5ctq4oz6chxg6dscotbozgpyu/node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.47.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.25.2_webpack@4.47.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.5_cache-loader@4.1.0_webpack@4.47.0__css-loader@3.6._d5ctq4oz6chxg6dscotbozgpyu/node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=11d829d3&scoped=true\"\nimport script from \"./History.vue?vue&type=script&lang=js\"\nexport * from \"./History.vue?vue&type=script&lang=js\"\nimport style0 from \"./History.vue?vue&type=style&index=0&id=11d829d3&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.5_cache-loader@4.1.0_webpack@4.47.0__css-loader@3.6._d5ctq4oz6chxg6dscotbozgpyu/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11d829d3\",\n  null\n  \n)\n\nexport default component.exports","/*\n * @Author: CiFong\n * @Date: 2020-06-16 18:20:21\n * @LastEditors: Billy\n * @LastEditTime: 2020-10-08 12:43:01\n * @Description: 请输入\n */\n/**\n * @description\n *  将 Date 转化为指定格式的String\n *  月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，\n *  年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)\n * @param {Date} date 要格式化的日期时间对象\n * @param {String} fmt 描述格式的字符串\n * @returns {String} 格式化后的日期字符串\n * @see https://www.haorooms.com/post/js_date_format_func\n * @example\n *  (new Date()).Format(\"yyyy-MM-dd hh:mm:ss.S\") ==> 2006-07-02 08:09:04.423\n *  (new Date()).Format(\"yyyy-M-d h:m:s.S\")      ==> 2006-7-2 8:9:4.18\n */\nfunction format(date, fmt = 'yyyy-MM-dd hh:mm:ss') {\n    var o = {\n        'M+': date.getMonth() + 1, //月份\n        'd+': date.getDate(), //日\n        'h+': date.getHours(), //小时\n        'm+': date.getMinutes(), //分\n        's+': date.getSeconds(), //秒\n        'q+': Math.floor((date.getMonth() + 3) / 3), //季度\n        S: date.getMilliseconds() //毫秒\n    }\n    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length))\n    for (var k in o)\n        if (new RegExp('(' + k + ')').test(fmt))\n            fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length))\n    return fmt\n}\n\n/**\n * @description 传入两个毫秒数得到相隔天数（传入的毫秒数无大小顺序）\n * @param {Number} timeA 传入的毫秒数A\n * @param {Number} timeB 传入的毫秒数B\n * @returns {Number} 相隔天数\n */\n// function getGapDate(timeA, timeB) {\n//   if (!(timeA && timeB)) {\n//     return\n//   }\n//   let absTime = Math.abs(timeA - timeB)\n//   return parseInt(absTime / 1000 / 60 / 60 / 24)\n// }\n\n/**\n * @description 传入两个时间得到相隔时长\n * @param {Date} startTime 传入的开始时间\n * @param {Date} endTime 传入的结束时间\n * @param {number} pointLength 小数点后的位数(默认0位)\n * @returns {string} 时间间隔，返回：如 1天/3分钟/2秒；如果endTime小于startTime，时间间隔将会是负数\n */\nfunction formatDateGap(startTime, endTime, pointLength = 0) {\n    const units = [{\n        unit: \"毫秒\",\n        multiple: 1000\n    }, {\n        unit: \"秒\",\n        multiple: 60\n    }, {\n        unit: \"分钟\",\n        multiple: 60\n    }, {\n        unit: \"小时\",\n        multiple: 24\n    }, {\n        unit: \"天\"\n    }];\n    let firstUnit = units[0].unit;\n    let gap = endTime - startTime;\n    if (gap === 0) return 0;\n\n    let item;\n    while ((item = units.shift()) && item.multiple && gap > item.multiple) {\n        gap = gap / item.multiple;\n    }\n    return (item.unit === firstUnit ? gap : gap.toFixed(pointLength)) + item.unit;\n}\n\n/**\n * @description 获取某年某月的总天数\n * @param {Number} year 年份\n * @param {Number} month 月份\n */\nfunction getDaysInOneMonth(year, month) {\n    // month = parseInt(month, 10);\n    var d = new Date(year, month, 0)\n    return d.getDate()\n}\n\n/**\n * @description 验证是否为时间戳\n * @param {Number} time 时间戳\n */\nfunction timeRules(time) {\n    if (parseInt(time) && time.toString().length === 13) {\n        return true\n    } else {\n        return false\n    }\n}\n\n/**\n * @description 获取当天时间0点的时间戳\n * @param {Number} time 时间戳\n */\nfunction setHour0(time) {\n    return new Date(new Date(time).setHours(0, 0, 0, 0)).getTime()\n}\n\n/**\n * @description 获取当天时间24点的时间戳\n * @param {Number} time 时间戳\n */\nfunction setHour24(time) {\n    return new Date(new Date(time).setHours(23, 59, 59, 999)).getTime()\n}\n\nexport default {\n    format,\n    // getGapDate,\n    formatDateGap,\n    getDaysInOneMonth,\n    timeRules,\n    setHour0,\n    setHour24\n}","class File {\n    /**\n     * 文件实体\n     * @param {Number} id 文件id\n     * @param {string} name 文件名\n     * @param {Number} taskId 任务组id\n     * @param {string} size 文件大小\n     * @param {string} createTime 创建时间\n     * @param {Number} orderId 订单id，对比组id\n     */\n    constructor({\n                    id,\n                    name,\n                    taskId,\n                    size,\n                    createTime,\n                    orderId\n                }) {\n        this.id = id;\n        this.name = name;\n        this.taskId = taskId;\n        this.size = size;\n        this.createTime = new Date(createTime);\n        this.orderId = orderId;\n    }\n}\n\nexport default File;","import Order from \"@/entity/Rbac/Order\";\n\nclass TaskGroup {\n    /**\n     * 任务组实体\n     * @param {Number} id 任务组id\n     * @param {string} name 任务组名\n     * @param {string} createTime 创建时间\n     * @param {Array.<Order>} orders 订单记录/对比组\n     */\n    constructor({\n                    id,\n                    name,\n                    createTime,\n                    orders\n                }) {\n        if (orders.length > 0 && !(orders[0] instanceof Order)) {\n            throw new Error('orders不是Order实例');\n        }\n        this.id = id;\n        this.name = name;\n        this.createTime = createTime;\n        this.orders = orders;\n    }\n}\n\nexport default TaskGroup;\n","class PageResult {\n    /** \n     * 分页获取数据的格式类\n     * @param {Array.<Object>} records 数据集合\n     * @param {Number} total 数据总数\n     * @param {Number} size 页面大小\n     * @param {Number} current 当前页面\n     * @param {Number} pages 页面总数\n     */\n    constructor(records, total, size, current, pages) {\n        this.records = records;\n        this.total = total;\n        this.size = size;\n        this.current = current;\n        this.pages = pages;\n    }\n}\n\nexport default PageResult;","import BaseAxios from \"./_BaseAxios.js\";\nimport ResHelper from \"../_ResponseHelper.js\"\nimport axios from \"axios\";\n\n/**\n * 获取单个任务组\n * GET /taskGroup/getGroupById\n * 接口ID：16559787\n * 接口地址：https://www.apifox.cn/web/project/838613/apis/api-16559787\n * @param {Number} groupId 任务组id\n * @returns {axios}\n */\nfunction getGroupById({\n    groupId\n}) {\n\n    return BaseAxios.get(`/taskGroup/getGroupById`, {\n        params: {\n            groupId\n        },\n    }).then(ResHelper.handler);\n}\n\n\n/**\n * 获取所有的Group，and 条件收索\n * POST /taskGroup/getGroups\n * 接口ID：16559807\n * 接口地址：https://www.apifox.cn/web/project/838613/apis/api-16559807\n * @param {string|null} keyWords 搜索关键字\n * @param {number} startPage 当前页\n * @param {number} maxPage 页面大小\n * @param {string|null} startTime 开始时间\n * @param {string|null} endTime 结束时间\n * @param {'asc'|'desc'} sort 排序方式\n * @returns {axios}\n */\nfunction getGroups({\n    keyWords = null,\n    startPage = 1,\n    maxPage = 5,\n    startTime = null,\n    endTime = null,\n    sort = 'asc'\n}) {\n    return BaseAxios({\n        url: `/taskGroup/getGroups`,\n        method: \"post\",\n        data: {\n            keyWords,\n            startPage,\n            maxPage,\n            startTime,\n            endTime,\n            sort\n        },\n    }).then(ResHelper.handler);\n}\n\n/**\n * 创建新的taskGroup\n * POST /taskGroup/create\n * 接口ID：16559829\n * 接口地址：https://www.apifox.cn/web/project/838613/apis/api-16559829\n * @param {string} name 任务组名称\n * @returns {axios}\n */\nfunction createGroup({\n    name\n}) {\n    return BaseAxios({\n        url: `/taskGroup/create`,\n        method: \"post\",\n        data: {\n            name,\n        },\n    }).then(ResHelper.handler);\n}\n\n/**\n * 批量删除group\n * DELETE /taskGroup/delete\n * 接口ID：16559854\n * 接口地址：https://www.apifox.cn/web/project/838613/apis/api-16559854\n * @param {Array.<number>} ids\n * @returns {axios}\n */\nfunction deleteGroup({\n    ids\n}) {\n    return BaseAxios({\n        url: `/taskGroup/delete`,\n        method: \"delete\",\n        data: [...ids],\n    }).then(ResHelper.handler);\n}\n\n/**\n * 根据taskgroupId批量下载文件\n * GET /taskGroup/download\n * 接口ID：16981068\n * 接口地址：https://www.apifox.cn/web/project/838613/apis/api-16981068\n * @param {Array.<number>} ids\n * @returns {axios}\n */\nfunction download({\n    ids\n}) {\n    return BaseAxios({\n        url: `/taskGroup/download`,\n        method: \"get\",\n        params: {\n            ids\n        },\n    }).then(ResHelper.handler);\n}\n\nexport default {\n    getGroupById,\n    getGroups,\n    createGroup,\n    deleteGroup,\n    download,\n}","import TaskGroup from '../../entity/Rbac/TaskGroup';\nimport Order from '../../entity/Rbac/Order';\nimport PageResult from '../../entity/_Common/PageResult'\nimport TaskGroupApi from '../../api/Rbac/TaskGroup'\nimport DateHelper from '../../util/DateHelper'\nimport FileEntity from \"@/entity/Rbac/File\";\n\n\n/**\n * 格式化记录集\n * @param records_use\n * @returns {Array.<TaskGroup>}\n */\nfunction formatRecords(records_use) {\n    return records_use.map(ele => {\n        ele.createTime = DateHelper.format(new Date(ele.createTime), \"yyyy-MM-dd hh:mm:ss\");\n        delete ele.deleted;\n        ele.createTime = DateHelper.format(new Date(ele.createTime), \"yyyy-MM-dd hh:mm:ss\");\n        let orders = [];\n        if (ele.orders) {\n            orders = ele.orders.map(ele => {\n                if (ele.id === null) return null;\n                ele.status = ele.status === \"complete\" ? \"已成功\" : \"未成功\";\n                if (ele.files === null) ele.files = [];\n                ele.createTime = DateHelper.format(new Date(ele.createTime), \"yyyy-MM-dd hh:mm:ss\")\n                let {\n                    id,\n                    status,\n                    fee,\n                    title,\n                    serialNumber,\n                    createTime,\n                    url,\n                    size,\n                    resolution,\n                    taskId,\n                    result,\n                    fileName,\n                    files\n                } = ele;\n                if (url) {\n                    if (url.indexOf(\"http\") === -1 && url.indexOf(\"//\") === -1) {\n                        url = \"//\" + url;\n                    }\n                }\n                if (files !== null)\n                    files = files.map(e => {\n                        if (e === null) return null;\n                        let {\n                            id,\n                            name,\n                            taskId,\n                            size,\n                            createTime,\n                            orderId\n                        } = e;\n                        return new FileEntity({\n                            id,\n                            name,\n                            taskId,\n                            size,\n                            createTime,\n                            orderId\n                        })\n                    })\n                return new Order({\n                    id,\n                    status,\n                    fee,\n                    title,\n                    serialNumber,\n                    createTime,\n                    url,\n                    size,\n                    resolution,\n                    taskId,\n                    result,\n                    fileName,\n                    files\n                })\n            });\n            //过滤id为空的order\n            orders = orders.filter(e => (Boolean(e) && Boolean(e.id)));\n        }\n        let {id, name, createTime} = ele;\n\n        return new TaskGroup({\n            id,\n            name,\n            createTime,\n            orders\n        })\n    });\n}\n\n/**\n *\n *\n * @description 获取所有任务组方法\n * @param {Number} startPages 当前页\n * @param {Number} pageSize\n * @param {String} keyWords\n * @param {String} startTime\n * @param {String} endTime\n * @param {'desc'||'asc'} sort\n * @returns {Promise<PageResult>}\n */\nasync function getAll(startPages = 1,\n                      pageSize = 5,\n                      keyWords = '',\n                      startTime = '',\n                      endTime = '',\n                      sort = 'desc') {\n    const res = await TaskGroupApi.getGroups({\n        endTime,\n        startTime,\n        keyWords: keyWords,\n        startPages,\n        maxPages: pageSize,\n        sort,\n    });\n    let {records: records_use, total, size, current, pages} = res.data;\n    return new PageResult(\n        formatRecords(records_use), total, size, current, pages\n    );\n}\n\n/**\n * 获取单个任务组\n * @param {Number} taskId\n * @returns {Promise<TaskGroup>}\n */\nasync function find({taskId}) {\n    const r = await TaskGroupApi.getGroupById({groupId: taskId});\n    let {records: records_use, total, size, current, pages} = r.data;\n    return formatRecords(records_use)[0];\n}\n\n/**\n * 批量删除\n * @param ids {Array.<Number|String>}\n * @returns {Promise<>}\n */\nasync function delTaskByIds(ids) {\n    TaskGroupApi.deleteGroup({ids})\n}\n\n/**\n * 批量下载\n * @param ids {Array.<Number|String>}\n * @returns {Promise<>}\n */\nasync function download(ids) {\n    return TaskGroupApi.download({ids})\n}\n\n/**\n * 新建任务组\n * @param {String} name\n * @returns {Promise<axios>}\n */\nasync function addTaskGroup({name}) {\n    return TaskGroupApi.createGroup({name});\n}\n\n\nexport default {\n    delTaskByIds,\n    getAll,\n    download,\n    addTaskGroup,\n    find,\n\n};\n\n","import File from \"@/entity/Rbac/File\";\n\nclass Order {\n    /**\n     * 订单实体，对比组实体\n     * @param {Number} id 订单记录id\n     * @param {'complete'|'incomplete'} status 订单状态:complete 已完成,incomplete 未完成\n     * @param {Number} fee 应付金额\n     * @param {string} title 订单名称\n     * @param {string} serialNumber 流水号\n     * @param {string} createTime 创建时间\n     * @param {string} url 对比之后的文件的位置\n     * @param {string} size 文件大小，用mb做单位\n     * @param {string} resolution 图片分辨率\n     * @param {Number} taskId 任务组id\n     * @param {string} result 对比结果\n     * @param {string} fileName 对比后的文件名\n     * @param {Array.<File>} files 任务组下面的对比文件\n     */\n    constructor({\n                    id,\n                    status,\n                    fee,\n                    title,\n                    serialNumber,\n                    createTime,\n                    url,\n                    size,\n                    resolution,\n                    taskId,\n                    result,\n                    fileName,\n                    files = []\n                }) {\n        // if (files.length > 0 && !(files[0] instanceof File)) {\n        //     throw new Error('files不是File类');\n        // }\n        this.id = id;\n        this.status = status;\n        this.fee = fee;\n        this.title = title;\n        this.serialNumber = serialNumber;\n        this.createTime = createTime;\n        this.url = url;\n        this.size = size;\n        this.resolution = resolution;\n        this.taskId = taskId;\n        this.resolution = resolution;\n        this.result = result;\n        this.fileName = fileName;\n        this.files = files;\n    }\n}\n\nexport default Order;\n","export * from \"-!../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.47.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.5_cache-loader@4.1.0_webpack@4.47.0__css-loader@3.6._d5ctq4oz6chxg6dscotbozgpyu/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/.pnpm/sass-loader@8.0.2_sass@1.78.0_webpack@4.47.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.5.5_cache-loader@4.1.0_webpack@4.47.0__css-loader@3.6._d5ctq4oz6chxg6dscotbozgpyu/node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&id=11d829d3&prod&lang=scss&scoped=true\""],"sourceRoot":""}